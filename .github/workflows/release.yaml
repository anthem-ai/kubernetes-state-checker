# on:
#   release:
#     types: [created]

# name: Build Release
# jobs:
#   # release-linux-386:
#   #   name: release linux/386
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #   - uses: actions/checkout@master
#   #   - name: compile and release
#   #     uses: ngs/go-release.action@v1.0.2
#   #     env:
#   #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#   #       GOARCH: "386"
#   #       GOOS: linux
#   #       # EXTRA_FILES: "LICENSE"
#   #       CMD_PATH: src/cmd/main.go
#   release-linux-amd64:
#     name: release linux/amd64
#     runs-on: ubuntu-latest
#     steps:
#     - uses: actions/checkout@master
#     - name: compile and release
#       uses: ngs/go-release.action@v1.0.2
#       env:
#         GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#         GOARCH: amd64
#         GOOS: linux
#         # EXTRA_FILES: "LICENSE"
#         CMD_PATH: src/cmd/main.go
#         GO111MODULE: off
#   # release-linux-arm:
#   #   name: release linux/386
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #   - uses: actions/checkout@master
#   #   - name: compile and release
#   #     uses: ngs/go-release.action@v1.0.2
#   #     env:
#   #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#   #       GOARCH: "arm"
#   #       GOOS: linux
#   #       # EXTRA_FILES: "LICENSE"
#   # release-linux-arm64:
#   #   name: release linux/amd64
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #   - uses: actions/checkout@master
#   #   - name: compile and release
#   #     uses: ngs/go-release.action@v1.0.2
#   #     env:
#   #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#   #       GOARCH: arm64
#   #       GOOS: linux
#   #       # EXTRA_FILES: "LICENSE"
#   # release-darwin-amd64:
#   #   name: release darwin/amd64
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #   - uses: actions/checkout@master
#   #   - name: compile and release
#   #     uses: ngs/go-release.action@v1.0.2
#   #     env:
#   #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#   #       GOARCH: amd64
#   #       GOOS: darwin
#   #       # EXTRA_FILES: "LICENSE"
#   # release-windows-386:
#   #   name: release windows/386
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #   - uses: actions/checkout@master
#   #   - name: compile and release
#   #     uses: ngs/go-release.action@v1.0.2
#   #     env:
#   #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#   #       GOARCH: "386"
#   #       GOOS: windows
#   #       # EXTRA_FILES: "LICENSE"
#   # release-windows-amd64:
#   #   name: release windows/amd64
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #   - uses: actions/checkout@master
#   #   - name: compile and release
#   #     uses: ngs/go-release.action@v1.0.2
#   #     env:
#   #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#   #       GOARCH: amd64
#   #       GOOS: windows
#   #       # EXTRA_FILES: "LICENSE"

on: [push]
# on:
#   release:
#     types: [created]

jobs:
  release-linux-amd64:
    name: release linux/amd64
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: wangyoucao577/go-release-action@v1.14
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        goos: linux
        goarch: amd64
        build_flags: ./src/cmd/main.go
